/*
 * Zzish JavaScript SDK
 *
 */

module.exports = Devices;
var utils = require ('./utils');

function Devices(proxy){
	utils.decorateInstance(this, {}, proxy);
}

Devices.prototype.create = function(data, callback) {

	var proxy = this.__proxy;
	var request = {
		url: proxy.buildUrl(this.__paths.devices),
		data: data
	};

	proxy.ajax( request, function (err, res) {
		if (err) {	
			callback(err, res);
		} else {	
			var device = new Device(res, proxy);
			callback(err, device);
		}
	});
};

function Device(data, proxy) {
	utils.decorateInstance(this, data, proxy);
}
